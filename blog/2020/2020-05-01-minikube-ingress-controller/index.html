<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Kubernetes Ingress with Ngnix Ingress Controller | c3smonkey's blog</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="OSX Minikube Kubernetes If you use ohmyzsh is there a nice Plugin with some kubectl for more details check ohmyzsh plugins kubectl
Install Minikube with Ingress Controller brew install minikube Start Minikube minikube start üòÑ minikube v1.9.2 on Darwin 10.15.4 ‚ñ™ MINIKUBE_ACTIVE_DOCKERD=minikube ‚ú® Using the hyperkit driver based on existing profile üëç Starting control plane node m01 in cluster minikube üîÑ Restarting existing hyperkit VM for &#34;minikube&#34; ... üê≥ Preparing Kubernetes v1."><meta name=author content="Marcel Widmer"><link rel=canonical href=https://blog.marcelwidmer.org/blog/2020/2020-05-01-minikube-ingress-controller/><link rel=stylesheet href=https://blog.marcelwidmer.org/sass/main.min.css><link rel=stylesheet href=https://blog.marcelwidmer.org/sass/nav.min.css><link rel=stylesheet href=https://blog.marcelwidmer.org/plugins/css/pico.min.css><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.marcelwidmer.org/static/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.marcelwidmer.org/static/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://blog.marcelwidmer.org/static/favicon.ico><link rel=apple-touch-icon href=https://blog.marcelwidmer.org/static/favicon.ico><link rel=mask-icon href=https://blog.marcelwidmer.org/static/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.104.0"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.marcelwidmer.org/static"><meta name=twitter:title content="Kubernetes Ingress with Ngnix Ingress Controller"><meta name=twitter:description content="OSX Minikube Kubernetes If you use ohmyzsh is there a nice Plugin with some kubectl for more details check ohmyzsh plugins kubectl
Install Minikube with Ingress Controller brew install minikube Start Minikube minikube start üòÑ minikube v1.9.2 on Darwin 10.15.4 ‚ñ™ MINIKUBE_ACTIVE_DOCKERD=minikube ‚ú® Using the hyperkit driver based on existing profile üëç Starting control plane node m01 in cluster minikube üîÑ Restarting existing hyperkit VM for &#34;minikube&#34; ... üê≥ Preparing Kubernetes v1."><meta property="og:title" content="Kubernetes Ingress with Ngnix Ingress Controller"><meta property="og:description" content="OSX Minikube Kubernetes If you use ohmyzsh is there a nice Plugin with some kubectl for more details check ohmyzsh plugins kubectl
Install Minikube with Ingress Controller brew install minikube Start Minikube minikube start üòÑ minikube v1.9.2 on Darwin 10.15.4 ‚ñ™ MINIKUBE_ACTIVE_DOCKERD=minikube ‚ú® Using the hyperkit driver based on existing profile üëç Starting control plane node m01 in cluster minikube üîÑ Restarting existing hyperkit VM for &#34;minikube&#34; ... üê≥ Preparing Kubernetes v1."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.marcelwidmer.org/blog/2020/2020-05-01-minikube-ingress-controller/"><meta property="og:image" content="https://blog.marcelwidmer.org/static"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-05-01T00:00:00+00:00"><meta property="article:modified_time" content="2020-05-01T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.marcelwidmer.org/static"><meta name=twitter:title content="Kubernetes Ingress with Ngnix Ingress Controller"><meta name=twitter:description content="OSX Minikube Kubernetes If you use ohmyzsh is there a nice Plugin with some kubectl for more details check ohmyzsh plugins kubectl
Install Minikube with Ingress Controller brew install minikube Start Minikube minikube start üòÑ minikube v1.9.2 on Darwin 10.15.4 ‚ñ™ MINIKUBE_ACTIVE_DOCKERD=minikube ‚ú® Using the hyperkit driver based on existing profile üëç Starting control plane node m01 in cluster minikube üîÑ Restarting existing hyperkit VM for &#34;minikube&#34; ... üê≥ Preparing Kubernetes v1."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blog","item":"https://blog.marcelwidmer.org/blog/"},{"@type":"ListItem","position":3,"name":"Kubernetes Ingress with Ngnix Ingress Controller","item":"https://blog.marcelwidmer.org/blog/2020/2020-05-01-minikube-ingress-controller/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kubernetes Ingress with Ngnix Ingress Controller","name":"Kubernetes Ingress with Ngnix Ingress Controller","description":"OSX Minikube Kubernetes If you use ohmyzsh is there a nice Plugin with some kubectl for more details check ohmyzsh plugins kubectl\nInstall Minikube with Ingress Controller brew install minikube Start Minikube minikube start üòÑ minikube v1.9.2 on Darwin 10.15.4 ‚ñ™ MINIKUBE_ACTIVE_DOCKERD=minikube ‚ú® Using the hyperkit driver based on existing profile üëç Starting control plane node m01 in cluster minikube üîÑ Restarting existing hyperkit VM for \u0026#34;minikube\u0026#34; ... üê≥ Preparing Kubernetes v1.","keywords":["k8s"],"articleBody":"OSX Minikube Kubernetes If you use ohmyzsh is there a nice Plugin with some kubectl for more details check ohmyzsh plugins kubectl\nInstall Minikube with Ingress Controller brew install minikube Start Minikube minikube start üòÑ minikube v1.9.2 on Darwin 10.15.4 ‚ñ™ MINIKUBE_ACTIVE_DOCKERD=minikube ‚ú® Using the hyperkit driver based on existing profile üëç Starting control plane node m01 in cluster minikube üîÑ Restarting existing hyperkit VM for \"minikube\" ... üê≥ Preparing Kubernetes v1.18.0 on Docker 19.03.8 ... üåü Enabling addons: dashboard, default-storageclass, ingress, storage-provisioner üèÑ Done! kubectl is now configured to use \"minikube\" Minkikube Status minikube status m01 host: Running kubelet: Running apiserver: Running kubeconfig: Configured Enable Ingress Addons We need the addon ingress this can be done with the followng command.\nminikube addons enable ingress Check minikube addons with minikube addons list if ingress is enabled.\nRun the following command:\nminikube addons list |-----------------------------|----------|--------------| | ADDON NAME | PROFILE | STATUS | |-----------------------------|----------|--------------| | dashboard | minikube | enabled ‚úÖ | | default-storageclass | minikube | enabled ‚úÖ | | efk | minikube | disabled | | freshpod | minikube | disabled | | gvisor | minikube | disabled | | helm-tiller | minikube | disabled | | ingress | minikube | enabled ‚úÖ | | ingress-dns | minikube | disabled | | istio | minikube | disabled | | istio-provisioner | minikube | disabled | | logviewer | minikube | disabled | | metrics-server | minikube | disabled | | nvidia-driver-installer | minikube | disabled | | nvidia-gpu-device-plugin | minikube | disabled | | registry | minikube | disabled | | registry-aliases | minikube | disabled | | registry-creds | minikube | disabled | | storage-provisioner | minikube | enabled ‚úÖ | | storage-provisioner-gluster | minikube | disabled | |-----------------------------|----------|--------------| Ingress Controller Let‚Äôs check if the Nginx Ingress Controller is up and running.\nRun the following command:\nk get pods -n kube-system | grep nginx-ingress nginx-ingress-controller-6d57c87cb9-rtgpk 1/1 Running 1 12m Create Namespace Let‚Äôs create first a dev name space where we deploy our sample application.\nRun the following command:\nk create ns dev namespace/dev created Switch Namespace Permanently With the following command we can switch the namespace permanently like oc project in a OpenShift environment. This command will save the namespace for all other kubectl commands in that context. This required the ohmyzsh plugins kubectl Plugin. Without this plugin will be the command kubectl config set-context --current --namespace=dev.\nkcn dev Create Deployment Let‚Äôs create a deployment now for a sample application with the name myapp with the image google-samples/hello-app:1.0 in the current namespace dev\nRun the following command:\nk create deployment myapp --image=gcr.io/google-samples/hello-app:1.0 deployment.apps/myapp created If you want see what deployments we have you can use kubectl get deployments command.\nRun the following command:\nk get deployments NAME READY UP-TO-DATE AVAILABLE AGE myapp 1/1 1 1 44m Let‚Äôs also check if the pod is running.\nRun the following command:\nk get pods -n dev -o wide --show-labels --field-selector=status.phase=Running NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES LABELS myapp-75d86849b-2gbps 1/1 Running 0 67m 172.17.0.3 minikube app=myapp,pod-template-hash=75d86849b Create Service To reach our application we have to create a service this can be easily done with the expose command and the NodePort\nk expose deployment myapp --port=8080 --type=NodePort Let‚Äôs check the service.\nRun the following command:\nk get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE myapp NodePort 10.110.101.126 8080:30506/TCP 21m Test Service internal in a Cluster Let‚Äôs check the service with a small container based on the tutum/curl:alpine Docker image, which contains the curl command. Run the curl -s 'http://myapp:8080' command inside the container and redirect the output to the Terminal using the -i option. Delete the pod using the --rm option.\nRun the following command:\nk run -i --rm --restart=Never curl-client --image=tutum/curl:alpine --command -- curl -s 'http://myapp:8080' Hello, world! Version: 1.0.0 Hostname: myapp-75d86849b-2gbps pod \"curl-client\" deleted This mean we can call a pod internal a cluster with the internal DNS.\nTest Service outside a Cluster Let‚Äôs call again the command k get svc to get the exposed port from out service. Run the following command again :\nk get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE myapp NodePort 10.110.101.126 8080:30506/TCP 21m You see the exposed port is here 30506 now let‚Äôs get the IP address from out minikube with minikube ip\nminikube ip 192.168.64.18 Now let‚Äôs also call out service myapp with HTTPie or in a browser http://192.168.64.18:30506\nhttp http://192.168.64.18:30506 HTTP/1.1 200 OK Content-Length: 61 Content-Type: text/plain; charset=utf-8 Date: Sun, 03 May 2020 08:07:35 GMT Hello, world! Version: 1.0.0 Hostname: myapp-75d86849b-2gbps /etc/hosts To get on the service with the URL minikube.me we update now out local /etc/hosts file with IP address from your minikube minikube ip Run the following command:\necho $(minikube ip) minikube.me | sudo tee -a /etc/hosts Password: 192.168.64.11 minikube.me Verify it the IP is in the /etc/hosts with the following command:\ncat /etc/hosts | tail -n 1 192.168.64.11 minikube.me Now you can also call the service wit the DNS http://minikube.me:30506\nhttp http://minikube.me:30506 HTTP/1.1 200 OK Content-Length: 61 Content-Type: text/plain; charset=utf-8 Date: Sun, 03 May 2020 08:12:51 GMT Hello, world! Version: 1.0.0 Hostname: myapp-75d86849b-2gbps Nginx Ingress Now is time to create our nginx ingress for this we creat a file named nginx-ingess.yaml where we point / to the myapp service on internal port 8080.\nRun the following command:\necho \"apiVersion: networking.k8s.io/v1beta1 # for versions before 1.14 use extensions/v1beta1 kind: Ingress metadata: name: nginx-ingress namespace: dev annotations: nginx.ingress.kubernetes.io/rewrite-target: /$1 spec: rules: - host: minikube.me http: paths: - path: / backend: serviceName: myapp servicePort: 8080\" | \u003e nginx-ingess.yaml Now let‚Äôs also take a new alias in the game kaf is the alias for kubectl -f and let‚Äôs apply the nginx-ingess.yaml file. For this run the following command:\nkaf nginx-ingess.yaml ingress.networking.k8s.io/nginx-ingress created With kubectl get ingress you can list all ingress in the namespace.\nk get ingress NAME CLASS HOSTS ADDRESS PORTS AGE nginx-ingress minikube.me 80 22s Test Ingress Open a browser now http://minikube.me or with HTTPie in a terminal.\nhttp http://minikube.me HTTP/1.1 200 OK Connection: keep-alive Content-Length: 61 Content-Type: text/plain; charset=utf-8 Date: Sun, 03 May 2020 09:18:45 GMT Server: openresty/1.15.8.2 Hello, world! Version: 1.0.0 Hostname: myapp-75d86849b-v72vs Now let‚Äôs also deploy a second application and expose it as service. Configure the nginx ingress also to the second service.\nk create deployment myapp2 --image=gcr.io/google-samples/hello-app:2.0 k expose deployment myapp2 --port=8080 --type=NodePort Update the nginx-ingess.yaml file with vi\n- path: /v2/* backend: serviceName: myapp2 servicePort: 8080 Check the nginx-ingess.yaml file with cat nginx-ingess.yaml\napiVersion: networking.k8s.io/v1beta1 # for versions before 1.14 use extensions/v1beta1 kind: Ingress metadata: name: nginx-ingress namespace: dev annotations: nginx.ingress.kubernetes.io/rewrite-target: / spec: rules: - host: minikube.me http: paths: - path: / backend: serviceName: myapp servicePort: 8080 - path: /v2 backend: serviceName: myapp2 servicePort: 8080 Apply the changes with the following command:\nkaf nginx-ingess.yaml ingress.networking.k8s.io/nginx-ingress configured Now we have one Ingress who point to 2 individual services. Verify it with HTTPie or with the browser http://minikube.me/ will give back Version: 1.0.0\nhttp http://minikube.me/ HTTP/1.1 200 OK Connection: keep-alive Content-Length: 61 Content-Type: text/plain; charset=utf-8 Date: Sun, 03 May 2020 09:31:12 GMT Server: openresty/1.15.8.2 Hello, world! Version: 1.0.0 Hostname: myapp-75d86849b-v72vs On the second route http://minikube.me/v2 we get back Version: 2.0.0\nhttp http://minikube.me/v2 HTTP/1.1 200 OK Connection: keep-alive Content-Length: 63 Content-Type: text/plain; charset=utf-8 Date: Sun, 03 May 2020 09:32:23 GMT Server: openresty/1.15.8.2 Hello, world! Version: 2.0.0 Hostname: myapp2-548b98644f-rqqmp kubectl Cheat Sheet k get pods -o wide --show-labels --field-selector=status.phase=Running -w | grep -vi \"Terminating\" NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES LABELS web-6785d44d5-vb2wb 1/1 Running 1 19h 172.17.0.4 minikube app=web,pod-template-hash=6785d44d5 web2 1/1 Running 1 19h 172.17.0.3 minikube run=web2 web2-8474c56fd-wk4kh 1/1 Running 1 18h 172.17.0.5 minikube app=web2,pod-template-hash=8474c56fd Namespaces kubectl get ns k get ns kgns k get ns NAME STATUS AGE default Active 19h kube-node-lease Active 19h kube-public Active 19h kube-system Active 19h Delete with given label k delete all -l app=web Troubleshooting sudo dscacheutil -flushcache;sudo killall -HUP mDNSResponder References:\ningress-minikube\n","wordCount":"1319","inLanguage":"en","datePublished":"2020-05-01T00:00:00Z","dateModified":"2020-05-01T00:00:00Z","author":{"@type":"Person","name":"Marcel Widmer"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.marcelwidmer.org/blog/2020/2020-05-01-minikube-ingress-controller/"},"publisher":{"@type":"Organization","name":"c3smonkey's blog","logo":{"@type":"ImageObject","url":"https://blog.marcelwidmer.org/static/favicon.ico"}}}</script></head><body><nav class=desktop><ul><li><a class=logo href=https://blog.marcelwidmer.org accesskey=h title="Welcome to my blog (Alt + h)"><img src=/static/favicon.ico alt="Welcome to my blog" width=35 height=35></img><h3 style=margin-bottom:0><strong><em>c3smonkey&rsquo;s blog</em></strong></h3></a></li><li class=toggle-container><input type=checkbox id=switch>
<label for=switch><i id=darkIcon data-feather=moon></i>
<i id=lightIcon data-feather=sun></i></label></li></ul><ul class=desktop-navigation><li><a href=/blog title=Blog><i data-feather=pen-tool></i>
<span>Blog</span></a></li><li><a href=/search title="Search (Alt + /)" accesskey=/><i data-feather=search></i>
<span>Search</span></a></li><li><a href=/contact title=Contact><i data-feather=mail></i>
<span>Contact</span></a></li><li><a href=https://github.com/marzelwidmer title=Github><i data-feather=github></i>
<span></span></a></li></ul><ul class=mobile-navigation><li><button id=menuOpen onclick=openMobile() aria-label="Menu closed">
<i data-feather=menu></i></button>
<button id=menuClose onclick=openMobile() aria-label="Menu opened">
<i data-feather=x></i></button></li></ul></nav><aside class=sidebar id=mobileNav style=display:none><nav><ul><li><a href=/blog title=Blog><span><i data-feather=pen-tool></i>
Blog</span></a></li><li><a href=/search title="Search (Alt + /)" accesskey=/><span><i data-feather=search></i>
Search</span></a></li><li><a href=/contact title=Contact><span><i data-feather=mail></i>
Contact</span></a></li><li><a href=https://github.com/marzelwidmer title=Github><span><i data-feather=github></i></span></a></li></ul></nav></aside><main><div class=container><hgroup><div><a href=https://blog.marcelwidmer.org>Home</a>&nbsp;¬ª&nbsp;<a href=https://blog.marcelwidmer.org/blog/>Blog</a></div><h1>Kubernetes Ingress with Ngnix Ingress Controller</h1><time datetime='2020-05-01 00:00:00 +0000 UTC'>May 1, 2020</time>&nbsp;¬∑&nbsp;7 min&nbsp;¬∑&nbsp;Marcel Widmer<p></p></hgroup><a href=https://blog.marcelwidmer.org/tags/k8s/><kbd>k8s</kbd></a><div class="grid grid-main"><div><div class=post><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on twitter" href="https://twitter.com/intent/tweet/?text=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller&url=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f&hashtags=k8s"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f&title=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller&summary=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller&source=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f&title=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on whatsapp" href="https://api.whatsapp.com/send?text=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller%20-%20https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on telegram" href="https://telegram.me/share/url?text=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller&url=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div><h1 id=osx-minikube-kubernetes>OSX Minikube Kubernetes<a class=anchor aria-hidden=true href=#osx-minikube-kubernetes>#</a></h1><p>If you use <code>ohmyzsh</code> is there a nice Plugin with some <code>kubectl</code> for more details check <a href=https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kubectl target=_blank rel=noopener>ohmyzsh plugins kubectl</a></p><h2 id=install-minikube-with-ingress-controller>Install Minikube with Ingress Controller<a class=anchor aria-hidden=true href=#install-minikube-with-ingress-controller>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install minikube
</span></span></code></pre></div><h2 id=start-minikube>Start Minikube<a class=anchor aria-hidden=true href=#start-minikube>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>minikube start
</span></span><span style=display:flex><span>üòÑ  minikube v1.9.2 on Darwin 10.15.4
</span></span><span style=display:flex><span>    ‚ñ™ MINIKUBE_ACTIVE_DOCKERD<span style=color:#f92672>=</span>minikube
</span></span><span style=display:flex><span>‚ú®  Using the hyperkit driver based on existing profile
</span></span><span style=display:flex><span>üëç  Starting control plane node m01 in cluster minikube
</span></span><span style=display:flex><span>üîÑ  Restarting existing hyperkit VM <span style=color:#66d9ef>for</span> <span style=color:#e6db74>&#34;minikube&#34;</span> ...
</span></span><span style=display:flex><span>üê≥  Preparing Kubernetes v1.18.0 on Docker 19.03.8 ...
</span></span><span style=display:flex><span>üåü  Enabling addons: dashboard, default-storageclass, ingress, storage-provisioner
</span></span><span style=display:flex><span>üèÑ  Done! kubectl is now configured to use <span style=color:#e6db74>&#34;minikube&#34;</span>
</span></span></code></pre></div><h2 id=minkikube-status>Minkikube Status<a class=anchor aria-hidden=true href=#minkikube-status>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>minikube status
</span></span><span style=display:flex><span>m01
</span></span><span style=display:flex><span>host: Running
</span></span><span style=display:flex><span>kubelet: Running
</span></span><span style=display:flex><span>apiserver: Running
</span></span><span style=display:flex><span>kubeconfig: Configured
</span></span></code></pre></div><h2 id=enable-ingress-addons>Enable Ingress Addons<a class=anchor aria-hidden=true href=#enable-ingress-addons>#</a></h2><p>We need the addon <code>ingress</code> this can be done with the followng command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>minikube addons enable ingress
</span></span></code></pre></div><p>Check minikube addons with <code>minikube addons list</code> if <code>ingress</code> is enabled.</p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>minikube addons list
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>|-----------------------------|----------|--------------|
</span></span><span style=display:flex><span>|         ADDON NAME          | PROFILE  |    STATUS    |
</span></span><span style=display:flex><span>|-----------------------------|----------|--------------|
</span></span><span style=display:flex><span>| dashboard                   | minikube | enabled ‚úÖ   |
</span></span><span style=display:flex><span>| default-storageclass        | minikube | enabled ‚úÖ   |
</span></span><span style=display:flex><span>| efk                         | minikube | disabled     |
</span></span><span style=display:flex><span>| freshpod                    | minikube | disabled     |
</span></span><span style=display:flex><span>| gvisor                      | minikube | disabled     |
</span></span><span style=display:flex><span>| helm-tiller                 | minikube | disabled     |
</span></span><span style=display:flex><span>| ingress                     | minikube | enabled ‚úÖ   |
</span></span><span style=display:flex><span>| ingress-dns                 | minikube | disabled     |
</span></span><span style=display:flex><span>| istio                       | minikube | disabled     |
</span></span><span style=display:flex><span>| istio-provisioner           | minikube | disabled     |
</span></span><span style=display:flex><span>| logviewer                   | minikube | disabled     |
</span></span><span style=display:flex><span>| metrics-server              | minikube | disabled     |
</span></span><span style=display:flex><span>| nvidia-driver-installer     | minikube | disabled     |
</span></span><span style=display:flex><span>| nvidia-gpu-device-plugin    | minikube | disabled     |
</span></span><span style=display:flex><span>| registry                    | minikube | disabled     |
</span></span><span style=display:flex><span>| registry-aliases            | minikube | disabled     |
</span></span><span style=display:flex><span>| registry-creds              | minikube | disabled     |
</span></span><span style=display:flex><span>| storage-provisioner         | minikube | enabled ‚úÖ   |
</span></span><span style=display:flex><span>| storage-provisioner-gluster | minikube | disabled     |
</span></span><span style=display:flex><span>|-----------------------------|----------|--------------|
</span></span></code></pre></div><h2 id=ingress-controller>Ingress Controller<a class=anchor aria-hidden=true href=#ingress-controller>#</a></h2><p>Let&rsquo;s check if the <code>Nginx Ingress Controller</code> is up and running.</p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k get pods -n kube-system | grep nginx-ingress
</span></span><span style=display:flex><span>nginx-ingress-controller-6d57c87cb9-rtgpk   1/1     Running   <span style=color:#ae81ff>1</span>          12m
</span></span></code></pre></div><h1 id=create-namespace>Create Namespace<a class=anchor aria-hidden=true href=#create-namespace>#</a></h1><p>Let&rsquo;s create first a <code>dev</code> name space where we deploy our sample application.</p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k create ns dev
</span></span><span style=display:flex><span>namespace/dev created
</span></span></code></pre></div><h1 id=switch-namespace-permanently>Switch Namespace Permanently<a class=anchor aria-hidden=true href=#switch-namespace-permanently>#</a></h1><p>With the following command we can switch the namespace permanently like <code>oc project</code> in a <code>OpenShift</code> environment.
This command will save the namespace for all other <code>kubectl</code> commands in that context.
This required the <a href=https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/kubectl target=_blank rel=noopener>ohmyzsh plugins kubectl</a> Plugin.
Without this plugin will be the command <code>kubectl config set-context --current --namespace=dev</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kcn dev
</span></span></code></pre></div><h1 id=create-deployment>Create Deployment<a class=anchor aria-hidden=true href=#create-deployment>#</a></h1><p>Let&rsquo;s create a deployment now for a sample application with the name <code>myapp</code> with the image <code>google-samples/hello-app:1.0</code> in the current namespace <code>dev</code></p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k create deployment myapp --image<span style=color:#f92672>=</span>gcr.io/google-samples/hello-app:1.0
</span></span><span style=display:flex><span>deployment.apps/myapp created
</span></span></code></pre></div><p>If you want see what deployments we have you can use <code>kubectl get deployments</code> command.</p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k get deployments
</span></span><span style=display:flex><span>NAME    READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span style=display:flex><span>myapp   1/1     <span style=color:#ae81ff>1</span>            <span style=color:#ae81ff>1</span>           44m
</span></span></code></pre></div><p>Let&rsquo;s also check if the pod is running.</p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k get pods -n dev -o wide --show-labels --field-selector<span style=color:#f92672>=</span>status.phase<span style=color:#f92672>=</span>Running
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME                    READY   STATUS    RESTARTS   AGE   IP           NODE       NOMINATED NODE   READINESS GATES   LABELS
</span></span><span style=display:flex><span>myapp-75d86849b-2gbps   1/1     Running   <span style=color:#ae81ff>0</span>          67m   172.17.0.3   minikube   &lt;none&gt;           &lt;none&gt;            app<span style=color:#f92672>=</span>myapp,pod-template-hash<span style=color:#f92672>=</span>75d86849b
</span></span></code></pre></div><h1 id=create-service>Create Service<a class=anchor aria-hidden=true href=#create-service>#</a></h1><p>To reach our application we have to create a <code>service</code> this can be easily done with the <code>expose</code> command and the <code>NodePort</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k expose deployment myapp --port<span style=color:#f92672>=</span><span style=color:#ae81ff>8080</span> --type<span style=color:#f92672>=</span>NodePort
</span></span></code></pre></div><p>Let&rsquo;s check the service.</p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k get svc
</span></span><span style=display:flex><span>NAME    TYPE       CLUSTER-IP       EXTERNAL-IP   PORT<span style=color:#f92672>(</span>S<span style=color:#f92672>)</span>          AGE
</span></span><span style=display:flex><span>myapp   NodePort   10.110.101.126   &lt;none&gt;        8080:30506/TCP   21m
</span></span></code></pre></div><h2 id=test-service-internal-in-a-cluster>Test Service internal in a Cluster<a class=anchor aria-hidden=true href=#test-service-internal-in-a-cluster>#</a></h2><p>Let&rsquo;s check the service with a small container based on the <code>tutum/curl:alpine</code> Docker image, which contains the curl command.
Run the <code>curl -s 'http://myapp:8080'</code> command inside the container and redirect the output to the Terminal using the <code>-i</code> option.
Delete the pod using the <code>--rm</code> option.</p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k run -i --rm --restart<span style=color:#f92672>=</span>Never curl-client --image<span style=color:#f92672>=</span>tutum/curl:alpine --command -- curl -s <span style=color:#e6db74>&#39;http://myapp:8080&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Hello, world!
</span></span><span style=display:flex><span>Version: 1.0.0
</span></span><span style=display:flex><span>Hostname: myapp-75d86849b-2gbps
</span></span><span style=display:flex><span>pod <span style=color:#e6db74>&#34;curl-client&#34;</span> deleted
</span></span></code></pre></div><p>This mean we can call a pod internal a cluster with the internal <code>DNS</code>.</p><h2 id=test-service-outside-a-cluster>Test Service outside a Cluster<a class=anchor aria-hidden=true href=#test-service-outside-a-cluster>#</a></h2><p>Let&rsquo;s call again the command <code>k get svc</code> to get the exposed port from out service.
Run the following command again :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k get svc
</span></span><span style=display:flex><span>NAME    TYPE       CLUSTER-IP       EXTERNAL-IP   PORT<span style=color:#f92672>(</span>S<span style=color:#f92672>)</span>          AGE
</span></span><span style=display:flex><span>myapp   NodePort   10.110.101.126   &lt;none&gt;        8080:30506/TCP   21m
</span></span></code></pre></div><p>You see the exposed port is here <code>30506</code> now let&rsquo;s get the <code>IP</code> address from out minikube with <code>minikube ip</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>minikube ip
</span></span><span style=display:flex><span>192.168.64.18
</span></span></code></pre></div><p>Now let&rsquo;s also call out service <code>myapp</code> with <code>HTTPie</code> or in a browser <code>http://192.168.64.18:30506</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http http://192.168.64.18:30506
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HTTP/1.1 <span style=color:#ae81ff>200</span> OK
</span></span><span style=display:flex><span>Content-Length: <span style=color:#ae81ff>61</span>
</span></span><span style=display:flex><span>Content-Type: text/plain; charset<span style=color:#f92672>=</span>utf-8
</span></span><span style=display:flex><span>Date: Sun, <span style=color:#ae81ff>03</span> May <span style=color:#ae81ff>2020</span> 08:07:35 GMT
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Hello, world!
</span></span><span style=display:flex><span>Version: 1.0.0
</span></span><span style=display:flex><span>Hostname: myapp-75d86849b-2gbps
</span></span></code></pre></div><h1 id=etchosts>/etc/hosts<a class=anchor aria-hidden=true href=#etchosts>#</a></h1><p>To get on the service with the URL <code>minikube.me</code> we update now out local <code>/etc/hosts</code> file with <code>IP</code> address from your minikube <code>minikube ip</code>
Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#66d9ef>$(</span>minikube ip<span style=color:#66d9ef>)</span> minikube.me | sudo tee -a /etc/hosts
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Password:
</span></span><span style=display:flex><span>192.168.64.11 minikube.me
</span></span></code></pre></div><p>Verify it the <code>IP</code> is in the <code>/etc/hosts</code> with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat /etc/hosts | tail -n <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>192.168.64.11 minikube.me
</span></span></code></pre></div><p>Now you can also call the service wit the <code>DNS</code> <code>http://minikube.me:30506</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http http://minikube.me:30506
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HTTP/1.1 <span style=color:#ae81ff>200</span> OK
</span></span><span style=display:flex><span>Content-Length: <span style=color:#ae81ff>61</span>
</span></span><span style=display:flex><span>Content-Type: text/plain; charset<span style=color:#f92672>=</span>utf-8
</span></span><span style=display:flex><span>Date: Sun, <span style=color:#ae81ff>03</span> May <span style=color:#ae81ff>2020</span> 08:12:51 GMT
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Hello, world!
</span></span><span style=display:flex><span>Version: 1.0.0
</span></span><span style=display:flex><span>Hostname: myapp-75d86849b-2gbps
</span></span></code></pre></div><h1 id=nginx-ingress>Nginx Ingress<a class=anchor aria-hidden=true href=#nginx-ingress>#</a></h1><p>Now is time to create our <code>nginx ingress</code> for this we creat a file named <code>nginx-ingess.yaml</code>
where we point <code>/</code> to the <code>myapp</code> service on internal port <code>8080</code>.</p><p>Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo  <span style=color:#e6db74>&#34;apiVersion: networking.k8s.io/v1beta1 # for versions before 1.14 use extensions/v1beta1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: Ingress
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74> name: nginx-ingress
</span></span></span><span style=display:flex><span><span style=color:#e6db74> namespace: dev
</span></span></span><span style=display:flex><span><span style=color:#e6db74> annotations:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>   nginx.ingress.kubernetes.io/rewrite-target: /</span>$1<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>spec:
</span></span></span><span style=display:flex><span><span style=color:#e6db74> rules:
</span></span></span><span style=display:flex><span><span style=color:#e6db74> - host: minikube.me
</span></span></span><span style=display:flex><span><span style=color:#e6db74>   http:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>     paths:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>     - path: /
</span></span></span><span style=display:flex><span><span style=color:#e6db74>       backend:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>         serviceName: myapp
</span></span></span><span style=display:flex><span><span style=color:#e6db74>         servicePort: 8080&#34;</span>  | &gt; nginx-ingess.yaml
</span></span></code></pre></div><p>Now let&rsquo;s also take a new <code>alias</code> in the game <code>kaf</code> is the alias for <code>kubectl -f</code> and let&rsquo;s apply the <code>nginx-ingess.yaml</code> file.
For this run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kaf nginx-ingess.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ingress.networking.k8s.io/nginx-ingress created
</span></span></code></pre></div><p>With <code>kubectl get ingress</code> you can list all ingress in the namespace.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k get ingress
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME            CLASS    HOSTS         ADDRESS   PORTS   AGE
</span></span><span style=display:flex><span>nginx-ingress   &lt;none&gt;   minikube.me             <span style=color:#ae81ff>80</span>      22s
</span></span></code></pre></div><h2 id=test-ingress>Test Ingress<a class=anchor aria-hidden=true href=#test-ingress>#</a></h2><p>Open a browser now <code>http://minikube.me</code> or with <code>HTTPie</code> in a terminal.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http http://minikube.me
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HTTP/1.1 <span style=color:#ae81ff>200</span> OK
</span></span><span style=display:flex><span>Connection: keep-alive
</span></span><span style=display:flex><span>Content-Length: <span style=color:#ae81ff>61</span>
</span></span><span style=display:flex><span>Content-Type: text/plain; charset<span style=color:#f92672>=</span>utf-8
</span></span><span style=display:flex><span>Date: Sun, <span style=color:#ae81ff>03</span> May <span style=color:#ae81ff>2020</span> 09:18:45 GMT
</span></span><span style=display:flex><span>Server: openresty/1.15.8.2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Hello, world!
</span></span><span style=display:flex><span>Version: 1.0.0
</span></span><span style=display:flex><span>Hostname: myapp-75d86849b-v72vs
</span></span></code></pre></div><p>Now let&rsquo;s also deploy a second application and expose it as service.
Configure the <code>nginx ingress</code> also to the second service.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k create deployment myapp2 --image<span style=color:#f92672>=</span>gcr.io/google-samples/hello-app:2.0
</span></span><span style=display:flex><span>k expose deployment myapp2 --port<span style=color:#f92672>=</span><span style=color:#ae81ff>8080</span> --type<span style=color:#f92672>=</span>NodePort
</span></span></code></pre></div><p>Update the <code>nginx-ingess.yaml</code> file with <code>vi</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>  - <span style=color:#f92672>path</span>: <span style=color:#ae81ff>/v2/*</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>backend</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>serviceName</span>: <span style=color:#ae81ff>myapp2</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>servicePort</span>: <span style=color:#ae81ff>8080</span>
</span></span></code></pre></div><p>Check the <code>nginx-ingess.yaml</code> file with <code>cat nginx-ingess.yaml</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>apiVersion: networking.k8s.io/v1beta1 <span style=color:#75715e># for versions before 1.14 use extensions/v1beta1</span>
</span></span><span style=display:flex><span>kind: Ingress
</span></span><span style=display:flex><span>metadata:
</span></span><span style=display:flex><span> name: nginx-ingress
</span></span><span style=display:flex><span> namespace: dev
</span></span><span style=display:flex><span> annotations:
</span></span><span style=display:flex><span>   nginx.ingress.kubernetes.io/rewrite-target: /
</span></span><span style=display:flex><span>spec:
</span></span><span style=display:flex><span> rules:
</span></span><span style=display:flex><span> - host: minikube.me
</span></span><span style=display:flex><span>   http:
</span></span><span style=display:flex><span>     paths:
</span></span><span style=display:flex><span>     - path: /
</span></span><span style=display:flex><span>       backend:
</span></span><span style=display:flex><span>         serviceName: myapp
</span></span><span style=display:flex><span>         servicePort: <span style=color:#ae81ff>8080</span>     
</span></span><span style=display:flex><span>     - path: /v2
</span></span><span style=display:flex><span>       backend:
</span></span><span style=display:flex><span>         serviceName: myapp2
</span></span><span style=display:flex><span>         servicePort: <span style=color:#ae81ff>8080</span>
</span></span></code></pre></div><p>Apply the changes with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kaf nginx-ingess.yaml
</span></span><span style=display:flex><span>ingress.networking.k8s.io/nginx-ingress configured
</span></span></code></pre></div><p>Now we have one Ingress who point to 2 individual services.
Verify it with <code>HTTPie</code> or with the browser <code>http://minikube.me/</code> will give back <code>Version: 1.0.0</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http http://minikube.me/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HTTP/1.1 <span style=color:#ae81ff>200</span> OK
</span></span><span style=display:flex><span>Connection: keep-alive
</span></span><span style=display:flex><span>Content-Length: <span style=color:#ae81ff>61</span>
</span></span><span style=display:flex><span>Content-Type: text/plain; charset<span style=color:#f92672>=</span>utf-8
</span></span><span style=display:flex><span>Date: Sun, <span style=color:#ae81ff>03</span> May <span style=color:#ae81ff>2020</span> 09:31:12 GMT
</span></span><span style=display:flex><span>Server: openresty/1.15.8.2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Hello, world!
</span></span><span style=display:flex><span>Version: 1.0.0
</span></span><span style=display:flex><span>Hostname: myapp-75d86849b-v72vs
</span></span></code></pre></div><p>On the second route <code>http://minikube.me/v2</code> we get back <code>Version: 2.0.0</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>http http://minikube.me/v2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HTTP/1.1 <span style=color:#ae81ff>200</span> OK
</span></span><span style=display:flex><span>Connection: keep-alive
</span></span><span style=display:flex><span>Content-Length: <span style=color:#ae81ff>63</span>
</span></span><span style=display:flex><span>Content-Type: text/plain; charset<span style=color:#f92672>=</span>utf-8
</span></span><span style=display:flex><span>Date: Sun, <span style=color:#ae81ff>03</span> May <span style=color:#ae81ff>2020</span> 09:32:23 GMT
</span></span><span style=display:flex><span>Server: openresty/1.15.8.2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Hello, world!
</span></span><span style=display:flex><span>Version: 2.0.0
</span></span><span style=display:flex><span>Hostname: myapp2-548b98644f-rqqmp
</span></span></code></pre></div><h1 id=kubectl-cheat-sheet>kubectl Cheat Sheet<a class=anchor aria-hidden=true href=#kubectl-cheat-sheet>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k get pods -o wide --show-labels  --field-selector<span style=color:#f92672>=</span>status.phase<span style=color:#f92672>=</span>Running  -w   | grep -vi <span style=color:#e6db74>&#34;Terminating&#34;</span>
</span></span><span style=display:flex><span>NAME                   READY   STATUS    RESTARTS   AGE   IP           NODE       NOMINATED NODE   READINESS GATES   LABELS
</span></span><span style=display:flex><span>web-6785d44d5-vb2wb    1/1     Running   <span style=color:#ae81ff>1</span>          19h   172.17.0.4   minikube   &lt;none&gt;           &lt;none&gt;            app<span style=color:#f92672>=</span>web,pod-template-hash<span style=color:#f92672>=</span>6785d44d5
</span></span><span style=display:flex><span>web2                   1/1     Running   <span style=color:#ae81ff>1</span>          19h   172.17.0.3   minikube   &lt;none&gt;           &lt;none&gt;            run<span style=color:#f92672>=</span>web2
</span></span><span style=display:flex><span>web2-8474c56fd-wk4kh   1/1     Running   <span style=color:#ae81ff>1</span>          18h   172.17.0.5   minikube   &lt;none&gt;           &lt;none&gt;            app<span style=color:#f92672>=</span>web2,pod-template-hash<span style=color:#f92672>=</span>8474c56fd
</span></span></code></pre></div><h2 id=namespaces>Namespaces<a class=anchor aria-hidden=true href=#namespaces>#</a></h2><ul><li><code>kubectl get ns</code></li><li><code>k get ns</code></li><li><code>kgns</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k get ns
</span></span><span style=display:flex><span>NAME              STATUS   AGE
</span></span><span style=display:flex><span>default           Active   19h
</span></span><span style=display:flex><span>kube-node-lease   Active   19h
</span></span><span style=display:flex><span>kube-public       Active   19h
</span></span><span style=display:flex><span>kube-system       Active   19h
</span></span></code></pre></div><h2 id=delete-with-given-label>Delete with given label<a class=anchor aria-hidden=true href=#delete-with-given-label>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>k delete all -l  app<span style=color:#f92672>=</span>web
</span></span></code></pre></div><h2 id=troubleshooting>Troubleshooting<a class=anchor aria-hidden=true href=#troubleshooting>#</a></h2><pre tabindex=0><code>sudo dscacheutil -flushcache;sudo killall -HUP mDNSResponder
</code></pre><hr><p><em>References:</em></p><blockquote><p><a href=https://kubernetes.io/docs/tasks/access-application-cluster/ingress-minikube/ target=_blank rel=noopener>ingress-minikube</a></p></blockquote></div><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on twitter" href="https://twitter.com/intent/tweet/?text=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller&url=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f&hashtags=k8s"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f&title=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller&summary=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller&source=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f&title=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on whatsapp" href="https://api.whatsapp.com/send?text=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller%20-%20https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes Ingress with Ngnix Ingress Controller on telegram" href="https://telegram.me/share/url?text=Kubernetes%20Ingress%20with%20Ngnix%20Ingress%20Controller&url=https%3a%2f%2fblog.marcelwidmer.org%2fblog%2f2020%2f2020-05-01-minikube-ingress-controller%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></div><aside><article><h3>See Also</h3><a href=/blog/2019/2019-10-22-axon/><hgroup><h4><i>AxonIQ</i></h4><p><time datetime='2019-09-18 00:00:00 +0000 UTC'>September 18, 2019</time>&nbsp;¬∑&nbsp;3 min&nbsp;¬∑&nbsp;Marcel Widmer</p></hgroup></a><a href=/blog/2019/2019-08-28-multiple-project-promoting/><hgroup><h4><i>Promoting Applications Across Environments</i></h4><p><time datetime='2019-09-18 00:00:00 +0000 UTC'>September 18, 2019</time>&nbsp;¬∑&nbsp;8 min&nbsp;¬∑&nbsp;Marcel Widmer</p></hgroup></a><a href=/blog/2019/2019-09-18-spring-boot-k8s-configmap/><hgroup><h4><i>Spring Boot Kubernetes ConfigMap</i></h4><p><time datetime='2019-09-18 00:00:00 +0000 UTC'>September 18, 2019</time>&nbsp;¬∑&nbsp;3 min&nbsp;¬∑&nbsp;Marcel Widmer</p></hgroup></a><a href=/blog/2019/2019-09-21-spring-boot-k8s-ribbon-discovery/><hgroup><h4><i>Spring Boot Kubernetes Discovery</i></h4><p><time datetime='2019-09-18 00:00:00 +0000 UTC'>September 18, 2019</time>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;Marcel Widmer</p></hgroup></a><a href=/blog/2019/2019-09-08-semantic-release-delivery-pipeline/><hgroup><h4><i>Semantic Release Delivery Pipeline</i></h4><p><time datetime='2019-09-08 00:00:00 +0000 UTC'>September 8, 2019</time>&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;Marcel Widmer</p></hgroup></a></article></aside></div></div></main><footer class=text-center><span>&copy; 2022 <a href=https://blog.marcelwidmer.org>c3smonkey's blog</a></span><div><a href=https://blog.marcelwidmer.org/legal/privacy>Privacy Policy</a>
<span>&</span>
<a href=https://blog.marcelwidmer.org/legal/terms-and-conditions>Terms and Conditions</a></div></footer><article class=hidden id=cookie-banner><div><span></span></div><footer><a role=button id=consent-cookies>Close</a>
<a role=button class=secondary href=/></a></footer></article><script async src=https://blog.marcelwidmer.org/js/cookie.min.js layout=container></script>
<script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("kbd");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script src=https://blog.marcelwidmer.org/plugins/js/feather.min.js layout=container></script>
<script src=https://blog.marcelwidmer.org/js/script.min.js layout=container></script></body></html>